INFO:Orchestrator:ðŸš€ Initializing YOLOOrchestrator on mps...
INFO:Orchestrator:âœ… Loaded YOLO model: yolo26n.pt
INFO:Orchestrator:âœ… Loaded OSNet Feature Extractor
INFO:Orchestrator:âœ… Loaded GRU: violence_detection_model.pth
INFO:Orchestrator:âœ… Loaded GRU: crowd_anomaly_model.pth
WARNING:Orchestrator:ðŸš¨ ALERT on cam-01: VIOLENCE DETECTED (V:0.80, C:0.00)
ðŸ§  Initializing ReID Feature Extractor (OSNet) on mps...
Successfully loaded imagenet pretrained weights from "/Users/yuva/.cache/torch/checkpoints/osnet_x1_0_imagenet.pth"
âœ… ReID Model (OSNet) Loaded Successfully.
ðŸŽ¥ Visual Simulation Started. Press 'q' to exit.
Traceback (most recent call last):
  File "/Users/yuva/development/violenceDetection/visual_simulation.py", line 226, in <module>
    run_visual_simulation()
  File "/Users/yuva/development/violenceDetection/visual_simulation.py", line 93, in run_visual_simulation
    matched_event_id = engine.process_analysis(cam_id, analysis, frame)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yuva/development/violenceDetection/orchestration/engine.py", line 221, in process_analysis
    self.handle_event_trigger(camera_id, alert_type, v_score, frame, embedding)
                                                                     ^^^^^^^^^
UnboundLocalError: cannot access local variable 'embedding' where it is not associated with a value
